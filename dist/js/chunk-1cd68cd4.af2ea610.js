(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cd68cd4"],{2951:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=function(e){return Object(r["z"])("data-v-99b1b498"),e=e(),Object(r["x"])(),e},s=c((function(){return Object(r["j"])("h2",null,"All Requests",-1)}));function a(e,t,n,c,a,i){var o=Object(r["E"])("base-dialog"),u=Object(r["E"])("base-card"),l=Object(r["E"])("base-spinner"),d=Object(r["E"])("request-item");return Object(r["w"])(),Object(r["i"])("div",null,[Object(r["l"])(o,{show:!!a.error,title:"An Error occured",onClose:i.handleError},{default:Object(r["N"])((function(){return[Object(r["j"])("p",null,Object(r["H"])(a.error),1)]})),_:1},8,["show","onClose"]),Object(r["l"])(u,null,{default:Object(r["N"])((function(){return[s]})),_:1}),a.isLoading?(Object(r["w"])(),Object(r["g"])(l,{key:0})):Object(r["h"])("",!0),i.hasRequests&&!a.isLoading?(Object(r["w"])(),Object(r["g"])(r["d"],{key:1,tag:"ul"},{default:Object(r["N"])((function(){return[(Object(r["w"])(!0),Object(r["i"])(r["a"],null,Object(r["C"])(i.receivedRequests,(function(e){return Object(r["w"])(),Object(r["g"])(d,{key:e.id,id:e.id,email:e.email,message:e.message,onDeleteReq:i.removeReq},null,8,["id","email","message","onDeleteReq"])})),128))]})),_:1})):Object(r["h"])("",!0),Object(r["O"])(Object(r["j"])("h5",null," You havenÂ´t received any requests YET! ",512),[[r["L"],!i.hasRequests&&!a.isLoading]])])}var i=n("1da1"),o=(n("d3b7"),n("99af"),n("96cf"),function(e){return Object(r["z"])("data-v-7959bc0c"),e=e(),Object(r["x"])(),e}),u=o((function(){return Object(r["j"])("p",null,[Object(r["j"])("strong",null,"Email from:")],-1)})),l=["href"],d=o((function(){return Object(r["j"])("p",{class:"message"},[Object(r["j"])("strong",null,"Message:")],-1)})),b={class:"message"},j=Object(r["k"])("Delete"),f=Object(r["k"])("Reply");function O(e,t,n,c,s,a){var i=Object(r["E"])("base-button"),o=Object(r["E"])("base-card");return Object(r["w"])(),Object(r["i"])("li",null,[Object(r["l"])(o,{class:Object(r["s"])({leave:s.isDelete})},{default:Object(r["N"])((function(){return[Object(r["j"])("div",null,[Object(r["j"])("header",null,[u,Object(r["j"])("a",{href:a.emailLink,class:"email"},Object(r["H"])(n.email),9,l)]),Object(r["j"])("section",null,[d,Object(r["j"])("p",b,Object(r["H"])(n.message),1)])]),Object(r["j"])("footer",null,[Object(r["l"])(i,{onClick:a.deleteReq},{default:Object(r["N"])((function(){return[j]})),_:1},8,["onClick"]),Object(r["l"])(i,{onClick:a.reply},{default:Object(r["N"])((function(){return[f]})),_:1},8,["onClick"])])]})),_:1},8,["class"])])}var h={props:["email","message","id"],emits:["deleteReq"],data:function(){return{isDelete:!1}},computed:{emailLink:function(){return"mailto:"+this.email}},methods:{deleteReq:function(){this.isDelete=!0,this.$emit("deleteReq",this.id)},reply:function(){return"mailto:"+this.email}}},m=(n("8d38"),n("6b0d")),g=n.n(m);const p=g()(h,[["render",O],["__scopeId","data-v-7959bc0c"]]);var v=p,w={components:{RequestItem:v},data:function(){return{isLoading:!1,error:null}},computed:{receivedRequests:function(){return this.$store.getters.requests},hasRequests:function(){return this.$store.getters.hasRequests}},methods:{loadReq:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("fetchRequests");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Something failed";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},handleError:function(){this.error=null},removeReq:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,c,s,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.$store.getters.token,c=t.$store.getters.getUserId,n.next=4,fetch("https://dasdas-b3d79-default-rtdb.firebaseio.com/requests/".concat(c,"/").concat(e,".json?auth=")+r,{method:"DELETE"});case 4:return s=n.sent,n.next=7,s.json();case 7:if(a=n.sent,s.ok){n.next=11;break}throw i=new Error(a.message||"Fail to  Sign Up .. This Email adress is used..."),i;case 11:t.$store.dispatch("fetchRequests");case 12:case"end":return n.stop()}}),n)})))()}},created:function(){this.loadReq()}};n("dc19");const R=g()(w,[["render",a],["__scopeId","data-v-99b1b498"]]);t["default"]=R},"4df5":function(e,t,n){},7658:function(e,t,n){},"8d38":function(e,t,n){"use strict";n("4df5")},"99af":function(e,t,n){"use strict";var r=n("23e7"),c=n("da84"),s=n("d039"),a=n("e8b5"),i=n("861d"),o=n("7b0b"),u=n("07fa"),l=n("8418"),d=n("65f0"),b=n("1dde"),j=n("b622"),f=n("2d00"),O=j("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",g=c.TypeError,p=f>=51||!s((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),v=b("concat"),w=function(e){if(!i(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},R=!p||!v;r({target:"Array",proto:!0,forced:R},{concat:function(e){var t,n,r,c,s,a=o(this),i=d(a,0),b=0;for(t=-1,r=arguments.length;t<r;t++)if(s=-1===t?a:arguments[t],w(s)){if(c=u(s),b+c>h)throw g(m);for(n=0;n<c;n++,b++)n in s&&l(i,b,s[n])}else{if(b>=h)throw g(m);l(i,b++,s)}return i.length=b,i}})},dc19:function(e,t,n){"use strict";n("7658")}}]);
//# sourceMappingURL=chunk-1cd68cd4.af2ea610.js.map